{"is_source_file": true, "format": "TypeScript", "description": "This file defines the AiModelsService class which provides methods to list AI models, simulate chat responses, and summarize text. It is part of an Angular frontend application, interacting with models for AI functionalities.", "external_files": ["../models/ai-model"], "external_methods": [], "published": ["AiModelsService"], "classes": [{"name": "AiModelsService", "description": "Service class providing AI models management, chat simulation, and text summarization functionalities."}], "methods": [{"name": "listModels(): Observable<AiModelInfo[]> { listModels", "description": "Returns an observable of available AI models, simulating asynchronous retrieval with delay.", "scope": "AiModelsService", "scopeKind": "class"}, {"name": "chat(req: ChatRequest): Observable<ChatResponse> { chat", "description": "Simulates a chat response based on the prompt, with randomized latency and token estimation.", "scope": "AiModelsService", "scopeKind": "class"}, {"name": "summarize(req: SummarizeRequest): Observable<SummarizeResponse> { summarize", "description": "Simulates text summarization, returning a truncated version of the input text based on a specified ratio.", "scope": "AiModelsService", "scopeKind": "class"}], "calls": ["of(this.models)", "this.models.pipe", "of(res)", "res.pipe"], "search-terms": ["AiModelsService", "Angular service", "chat simulation", "text summarization", "AI models list"], "state": 2, "file_id": 23, "knowledge_revision": 68, "git_revision": "", "revision_history": [{"54": ""}, {"68": ""}], "ctags": [{"_type": "tag", "name": "AiModelsService", "path": "/home/kavia/workspace/code-generation/ai-insights-hub-7714-7723/ai_models_web_app_frontend/src/app/services/ai-models.service.ts", "pattern": "/^export class AiModelsService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "Math", "path": "/home/kavia/workspace/code-generation/ai-insights-hub-7714-7723/ai_models_web_app_frontend/src/app/services/ai-models.service.ts", "pattern": "/^    const reducedBy = words.length ? Math.round((1 - keep \\/ words.length) * 100) : 0;$/", "language": "TypeScript", "kind": "constant", "scope": "AiModelsService.summarize", "scopeKind": "method"}, {"_type": "tag", "name": "chat", "path": "/home/kavia/workspace/code-generation/ai-insights-hub-7714-7723/ai_models_web_app_frontend/src/app/services/ai-models.service.ts", "pattern": "/^  chat(req: ChatRequest): Observable<ChatResponse> {$/", "language": "TypeScript", "kind": "method", "scope": "AiModelsService", "scopeKind": "class"}, {"_type": "tag", "name": "keep", "path": "/home/kavia/workspace/code-generation/ai-insights-hub-7714-7723/ai_models_web_app_frontend/src/app/services/ai-models.service.ts", "pattern": "/^    const keep = Math.max(10, Math.floor(words.length * Math.max(0.1, Math.min(1, req.ratio))));$/", "language": "TypeScript", "kind": "constant", "scope": "AiModelsService.summarize", "scopeKind": "method"}, {"_type": "tag", "name": "latency", "path": "/home/kavia/workspace/code-generation/ai-insights-hub-7714-7723/ai_models_web_app_frontend/src/app/services/ai-models.service.ts", "pattern": "/^    const latency = 400 + Math.floor(Math.random() * 800);$/", "language": "TypeScript", "kind": "constant", "scope": "AiModelsService.chat", "scopeKind": "method"}, {"_type": "tag", "name": "latency", "path": "/home/kavia/workspace/code-generation/ai-insights-hub-7714-7723/ai_models_web_app_frontend/src/app/services/ai-models.service.ts", "pattern": "/^    const latency = 500 + Math.floor(Math.random() * 900);$/", "language": "TypeScript", "kind": "constant", "scope": "AiModelsService.summarize", "scopeKind": "method"}, {"_type": "tag", "name": "listModels", "path": "/home/kavia/workspace/code-generation/ai-insights-hub-7714-7723/ai_models_web_app_frontend/src/app/services/ai-models.service.ts", "pattern": "/^  listModels(): Observable<AiModelInfo[]> {$/", "language": "TypeScript", "kind": "method", "scope": "AiModelsService", "scopeKind": "class"}, {"_type": "tag", "name": "model", "path": "/home/kavia/workspace/code-generation/ai-insights-hub-7714-7723/ai_models_web_app_frontend/src/app/services/ai-models.service.ts", "pattern": "/^      model: 'Chat-Assistant v0',$/", "language": "TypeScript", "kind": "constant", "scope": "AiModelsService.chat", "scopeKind": "method"}, {"_type": "tag", "name": "model", "path": "/home/kavia/workspace/code-generation/ai-insights-hub-7714-7723/ai_models_web_app_frontend/src/app/services/ai-models.service.ts", "pattern": "/^      model: 'Summarizer v0',$/", "language": "TypeScript", "kind": "constant", "scope": "AiModelsService.summarize", "scopeKind": "method"}, {"_type": "tag", "name": "models", "path": "/home/kavia/workspace/code-generation/ai-insights-hub-7714-7723/ai_models_web_app_frontend/src/app/services/ai-models.service.ts", "pattern": "/^  private models: AiModelInfo[] = [$/", "language": "TypeScript", "kind": "property", "scope": "AiModelsService", "scopeKind": "class"}, {"_type": "tag", "name": "output", "path": "/home/kavia/workspace/code-generation/ai-insights-hub-7714-7723/ai_models_web_app_frontend/src/app/services/ai-models.service.ts", "pattern": "/^    const output = `Simulated response (temp=${req.temperature}): ${req.prompt ? 'You said: ' + /", "language": "TypeScript", "kind": "constant", "scope": "AiModelsService.chat", "scopeKind": "method"}, {"_type": "tag", "name": "reducedBy", "path": "/home/kavia/workspace/code-generation/ai-insights-hub-7714-7723/ai_models_web_app_frontend/src/app/services/ai-models.service.ts", "pattern": "/^    const reducedBy = words.length ? Math.round((1 - keep \\/ words.length) * 100) : 0;$/", "language": "TypeScript", "kind": "constant", "scope": "AiModelsService.summarize", "scopeKind": "method"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/ai-insights-hub-7714-7723/ai_models_web_app_frontend/src/app/services/ai-models.service.ts", "pattern": "/^    const res: ChatResponse = {$/", "language": "TypeScript", "kind": "constant", "scope": "AiModelsService.chat", "scopeKind": "method"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/ai-insights-hub-7714-7723/ai_models_web_app_frontend/src/app/services/ai-models.service.ts", "pattern": "/^    const res: SummarizeResponse = {$/", "language": "TypeScript", "kind": "constant", "scope": "AiModelsService.summarize", "scopeKind": "method"}, {"_type": "tag", "name": "summarize", "path": "/home/kavia/workspace/code-generation/ai-insights-hub-7714-7723/ai_models_web_app_frontend/src/app/services/ai-models.service.ts", "pattern": "/^  summarize(req: SummarizeRequest): Observable<SummarizeResponse> {$/", "language": "TypeScript", "kind": "method", "scope": "AiModelsService", "scopeKind": "class"}, {"_type": "tag", "name": "summary", "path": "/home/kavia/workspace/code-generation/ai-insights-hub-7714-7723/ai_models_web_app_frontend/src/app/services/ai-models.service.ts", "pattern": "/^    const summary = words.slice(0, keep).join(' ') + (words.length > keep ? '\u2026' : '');$/", "language": "TypeScript", "kind": "constant", "scope": "AiModelsService.summarize", "scopeKind": "method"}, {"_type": "tag", "name": "timestamp", "path": "/home/kavia/workspace/code-generation/ai-insights-hub-7714-7723/ai_models_web_app_frontend/src/app/services/ai-models.service.ts", "pattern": "/^      timestamp: new Date().toISOString(),$/", "language": "TypeScript", "kind": "constant", "scope": "AiModelsService.chat", "scopeKind": "method"}, {"_type": "tag", "name": "timestamp", "path": "/home/kavia/workspace/code-generation/ai-insights-hub-7714-7723/ai_models_web_app_frontend/src/app/services/ai-models.service.ts", "pattern": "/^      timestamp: new Date().toISOString(),$/", "language": "TypeScript", "kind": "constant", "scope": "AiModelsService.summarize", "scopeKind": "method"}, {"_type": "tag", "name": "tokens", "path": "/home/kavia/workspace/code-generation/ai-insights-hub-7714-7723/ai_models_web_app_frontend/src/app/services/ai-models.service.ts", "pattern": "/^    const tokens = Math.floor((req.prompt?.length || 40) \\/ 3) + 30;$/", "language": "TypeScript", "kind": "constant", "scope": "AiModelsService.chat", "scopeKind": "method"}, {"_type": "tag", "name": "tokensEstimated", "path": "/home/kavia/workspace/code-generation/ai-insights-hub-7714-7723/ai_models_web_app_frontend/src/app/services/ai-models.service.ts", "pattern": "/^      tokensEstimated: tokens,$/", "language": "TypeScript", "kind": "constant", "scope": "AiModelsService.chat", "scopeKind": "method"}, {"_type": "tag", "name": "words", "path": "/home/kavia/workspace/code-generation/ai-insights-hub-7714-7723/ai_models_web_app_frontend/src/app/services/ai-models.service.ts", "pattern": "/^    const words = (req.text || '').split(\\/\\\\s+\\/).filter(Boolean);$/", "language": "TypeScript", "kind": "constant", "scope": "AiModelsService.summarize", "scopeKind": "method"}], "hash": "703f1cd755461e81cd6696fd722176b4", "format-version": 4, "code-base-name": "ai_models_web_app_frontend", "filename": "ai_models_web_app_frontend/src/app/services/ai-models.service.ts", "fields": [{"name": "private models: AiModelInfo[] = [", "scope": "AiModelsService", "scopeKind": "class", "description": "unavailable"}]}